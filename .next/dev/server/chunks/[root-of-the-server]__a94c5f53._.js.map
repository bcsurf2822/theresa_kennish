{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/benjamincorbett/code/cedesigns/theresa_kennish/lib/mongodb.ts"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst MONGODB_URL = process.env.MONGODB_URL;\n\nif (!MONGODB_URL) {\n  throw new Error('Please define the MONGODB_URL environment variable inside .env');\n}\n\nlet cached = global.mongoose;\n\nif (!cached) {\n  cached = global.mongoose = { conn: null, promise: null };\n}\n\nasync function dbConnect() {\n  if (cached.conn) {\n    return cached.conn;\n  }\n\n  if (!cached.promise) {\n    const opts = {\n      bufferCommands: false,\n    };\n\n    cached.promise = mongoose.connect(MONGODB_URL!, opts).then((mongoose) => {\n      return mongoose;\n    });\n  }\n\n  try {\n    cached.conn = await cached.promise;\n  } catch (e) {\n    cached.promise = null;\n    throw e;\n  }\n\n  return cached.conn;\n}\n\nexport default dbConnect;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAE3C,IAAI,CAAC,aAAa;IAChB,MAAM,IAAI,MAAM;AAClB;AAEA,IAAI,SAAS,yDAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACX,SAAS,yDAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AACzD;AAEA,eAAe;IACb,IAAI,OAAO,IAAI,EAAE;QACf,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,MAAM,OAAO;YACX,gBAAgB;QAClB;QAEA,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,aAAc,MAAM,IAAI,CAAC,CAAC;YAC1D,OAAO;QACT;IACF;IAEA,IAAI;QACF,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACpC,EAAE,OAAO,GAAG;QACV,OAAO,OAAO,GAAG;QACjB,MAAM;IACR;IAEA,OAAO,OAAO,IAAI;AACpB;uCAEe","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/benjamincorbett/code/cedesigns/theresa_kennish/models/Comment.ts"],"sourcesContent":["import mongoose, { Schema, Model } from 'mongoose';\n\nexport interface IComment {\n  pageId: string;\n  text: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nconst CommentSchema = new Schema<IComment>(\n  {\n    pageId: {\n      type: String,\n      required: [true, 'Page ID is required'],\n      enum: [\n        'soft-artistic',\n        'bold-typography',\n        'gallery-focus',\n        'contemporary-professional',\n        'architectural-grid',\n        'immersive-scroll',\n        'series',\n        'style-guide',\n        'home'\n      ],\n    },\n    text: {\n      type: String,\n      required: [true, 'Comment text is required'],\n      trim: true,\n    },\n  },\n  {\n    timestamps: true,\n  }\n);\n\nconst Comment: Model<IComment> = mongoose.models.Comment || mongoose.model<IComment>('Comment', CommentSchema);\n\nexport default Comment;\n"],"names":[],"mappings":";;;;AAAA;;AASA,MAAM,gBAAgB,IAAI,mHAAM,CAC9B;IACE,QAAQ;QACN,MAAM;QACN,UAAU;YAAC;YAAM;SAAsB;QACvC,MAAM;YACJ;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;IACH;IACA,MAAM;QACJ,MAAM;QACN,UAAU;YAAC;YAAM;SAA2B;QAC5C,MAAM;IACR;AACF,GACA;IACE,YAAY;AACd;AAGF,MAAM,UAA2B,oHAAQ,CAAC,MAAM,CAAC,OAAO,IAAI,oHAAQ,CAAC,KAAK,CAAW,WAAW;uCAEjF","debugId":null}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/benjamincorbett/code/cedesigns/theresa_kennish/app/api/comments/%5Bid%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport dbConnect from '@/lib/mongodb';\nimport Comment from '@/models/Comment';\n\nexport async function PUT(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    await dbConnect();\n    const { id } = await params;\n    const body = await request.json();\n    const { text } = body;\n\n    if (!text) {\n      return NextResponse.json(\n        { success: false, error: 'text is required' },\n        { status: 400 }\n      );\n    }\n\n    const comment = await Comment.findByIdAndUpdate(\n      id,\n      { text },\n      { new: true, runValidators: true }\n    );\n\n    if (!comment) {\n      return NextResponse.json(\n        { success: false, error: 'Comment not found' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({ success: true, data: comment });\n  } catch (error) {\n    console.error('[api/comments/[id]-PUT] Error updating comment:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to update comment' },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function DELETE(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    await dbConnect();\n    const { id } = await params;\n\n    const comment = await Comment.findByIdAndDelete(id);\n\n    if (!comment) {\n      return NextResponse.json(\n        { success: false, error: 'Comment not found' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({ success: true, data: {} });\n  } catch (error) {\n    console.error('[api/comments/[id]-DELETE] Error deleting comment:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to delete comment' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IACpB,OAAoB,EACpB,EAAE,MAAM,EAAuC;IAE/C,IAAI;QACF,MAAM,IAAA,mKAAS;QACf,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;QACrB,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,IAAI,EAAE,GAAG;QAEjB,IAAI,CAAC,MAAM;YACT,OAAO,uTAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO;YAAmB,GAC5C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,UAAU,MAAM,sKAAO,CAAC,iBAAiB,CAC7C,IACA;YAAE;QAAK,GACP;YAAE,KAAK;YAAM,eAAe;QAAK;QAGnC,IAAI,CAAC,SAAS;YACZ,OAAO,uTAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO;YAAoB,GAC7C;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM;QAAQ;IAC1D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mDAAmD;QACjE,OAAO,uTAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAA2B,GACpD;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,OACpB,OAAoB,EACpB,EAAE,MAAM,EAAuC;IAE/C,IAAI;QACF,MAAM,IAAA,mKAAS;QACf,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;QAErB,MAAM,UAAU,MAAM,sKAAO,CAAC,iBAAiB,CAAC;QAEhD,IAAI,CAAC,SAAS;YACZ,OAAO,uTAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO;YAAoB,GAC7C;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM,CAAC;QAAE;IACrD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sDAAsD;QACpE,OAAO,uTAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAA2B,GACpD;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}