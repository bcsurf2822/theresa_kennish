{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/benjamincorbett/code/cedesigns/theresa_kennish/lib/mongodb.ts"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst MONGODB_URL = process.env.MONGODB_URL;\n\nif (!MONGODB_URL) {\n  throw new Error('Please define the MONGODB_URL environment variable inside .env');\n}\n\nlet cached = global.mongoose;\n\nif (!cached) {\n  cached = global.mongoose = { conn: null, promise: null };\n}\n\nasync function dbConnect() {\n  if (cached.conn) {\n    return cached.conn;\n  }\n\n  if (!cached.promise) {\n    const opts = {\n      bufferCommands: false,\n    };\n\n    cached.promise = mongoose.connect(MONGODB_URL!, opts).then((mongoose) => {\n      return mongoose;\n    });\n  }\n\n  try {\n    cached.conn = await cached.promise;\n  } catch (e) {\n    cached.promise = null;\n    throw e;\n  }\n\n  return cached.conn;\n}\n\nexport default dbConnect;\n"],"names":[],"mappings":";;;;;;;;;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAE3C,IAAI,CAAC,aAAa;IAChB,MAAM,IAAI,MAAM;AAClB;AAEA,IAAI,SAAS,yDAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACX,SAAS,yDAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AACzD;AAEA,eAAe;IACb,IAAI,OAAO,IAAI,EAAE;QACf,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,MAAM,OAAO;YACX,gBAAgB;QAClB;QAEA,OAAO,OAAO,GAAG,SAAS,OAAO,CAAC,aAAc,MAAM,IAAI,CAAC,CAAC;YAC1D,OAAO;QACT;IACF;IAEA,IAAI;QACF,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACpC,EAAE,OAAO,GAAG;QACV,OAAO,OAAO,GAAG;QACjB,MAAM;IACR;IAEA,OAAO,OAAO,IAAI;AACpB;uCAEe","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///Users/benjamincorbett/code/cedesigns/theresa_kennish/models/Comment.ts"],"sourcesContent":["import mongoose, { Schema, Model } from 'mongoose';\n\nexport interface IComment {\n  pageId: string;\n  text: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nconst CommentSchema = new Schema<IComment>(\n  {\n    pageId: {\n      type: String,\n      required: [true, 'Page ID is required'],\n      enum: [\n        'soft-artistic',\n        'bold-typography',\n        'gallery-focus',\n        'contemporary-professional',\n        'architectural-grid',\n        'immersive-scroll',\n        'series',\n        'style-guide',\n        'home'\n      ],\n    },\n    text: {\n      type: String,\n      required: [true, 'Comment text is required'],\n      trim: true,\n    },\n  },\n  {\n    timestamps: true,\n  }\n);\n\nconst Comment: Model<IComment> = mongoose.models.Comment || mongoose.model<IComment>('Comment', CommentSchema);\n\nexport default Comment;\n"],"names":[],"mappings":";;;;;;;;;;AASA,MAAM,gBAAgB,IAAI,OACxB;IACE,QAAQ;QACN,MAAM;QACN,UAAU;YAAC;YAAM;SAAsB;QACvC,MAAM;YACJ;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;IACH;IACA,MAAM;QACJ,MAAM;QACN,UAAU;YAAC;YAAM;SAA2B;QAC5C,MAAM;IACR;AACF,GACA;IACE,YAAY;AACd;AAGF,MAAM,UAA2B,SAAS,MAAM,CAAC,OAAO,IAAI,SAAS,KAAK,CAAW,WAAW;uCAEjF","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///Users/benjamincorbett/code/cedesigns/theresa_kennish/app/api/comments/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport dbConnect from '@/lib/mongodb';\nimport Comment from '@/models/Comment';\n\nexport async function GET() {\n  try {\n    await dbConnect();\n    const comments = await Comment.find({}).sort({ createdAt: -1 });\n    return NextResponse.json({ success: true, data: comments });\n  } catch (error) {\n    console.error('[api/comments-GET] Error fetching comments:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch comments' },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    await dbConnect();\n    const body = await request.json();\n    const { pageId, text } = body;\n\n    if (!pageId || !text) {\n      return NextResponse.json(\n        { success: false, error: 'pageId and text are required' },\n        { status: 400 }\n      );\n    }\n\n    const comment = await Comment.create({ pageId, text });\n    return NextResponse.json({ success: true, data: comment }, { status: 201 });\n  } catch (error) {\n    console.error('[api/comments-POST] Error creating comment:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to create comment' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,IAAA,mKAAS;QACf,MAAM,WAAW,MAAM,sKAAO,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YAAE,WAAW,CAAC;QAAE;QAC7D,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM;QAAS;IAC3D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+CAA+C;QAC7D,OAAO,uTAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAA2B,GACpD;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,IAAA,mKAAS;QACf,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG;QAEzB,IAAI,CAAC,UAAU,CAAC,MAAM;YACpB,OAAO,uTAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO;YAA+B,GACxD;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,UAAU,MAAM,sKAAO,CAAC,MAAM,CAAC;YAAE;YAAQ;QAAK;QACpD,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM;QAAQ,GAAG;YAAE,QAAQ;QAAI;IAC3E,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+CAA+C;QAC7D,OAAO,uTAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAA2B,GACpD;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}